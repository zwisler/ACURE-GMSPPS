@model GMSPPS.Models.MissionViewModel

@{
    ViewBag.Title = Model.Title;
}
<div ng-app="app">
    <div ng-controller="MissionController" ng-init="initme(@Newtonsoft.Json.JsonConvert.SerializeObject(Model))">
        <div class="container" style="margin-top:-10px;  ">
            <div>
                <div class="container-fluid">
                    <ul class="list-inline">
                        <li><img src="@Url.Content(Model.ProviderLogo)" alt="Image" height="180" /></li>
                        <li><h5>@Html.DisplayFor(model => model.ProviderName)</h5></li>
                        <li><h3>@Html.DisplayFor(model => model.Title)</h3></li>
                    </ul>
                    @MvcHtmlString.Create(Model.Text.Replace(Environment.NewLine, "<br />"))
                </div>
            </div>
        </div>
        <div id='BMap' style="position:relative; margin-top:10px;  min-height:150px; max-height:350px; min-width:10px  " ng-style="style()" resize></div>
        <div class="container" style="margin-top:10px;  ">
            <h2>Empfänger</h2>
            <table class="table">
                <thead>
                    <tr>                       
                        <th>Name</th>
                        <th>Staus</th>                       
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in subscribers" ng-include="item.displayMode()"></tr>
                </tbody>
            </table>         
        </div>
        <script type="text/ng-template" id="receive-template">            
            <td><h4 class="text-primary"> {{item.name}} </h4></td>            
            <td class="text-primary"> <h4> <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> </h4></td>
        </script>
        <script type="text/ng-template" id="accepted-template">
            <td><h4 class="text-success"> {{item.name}} </h4></td>
            <td class="text-success"> <h4> <span class="glyphicon glyphicon-ok" aria-hidden="true"></span> </h4></td>
        </script>
        <script type="text/ng-template" id="started-template">
            <td><h4 class="text-warning"> {{item.name}} </h4></td>
            <td class="text-warning"> <h4> <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span> </h4></td>
        </script>
    </div>    
</div>



@section scripts {
    <!--Script references. -->
    <!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
    <!--Reference the SignalR library. -->
    <script src="~/Scripts/jquery.signalR-2.2.0.min.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0"></script>
    <script src="~/Scripts/angular.js"></script>
    <script src="~/Scripts/angular-resource.js"></script>
    <script src="~/Scripts/angular-signalr-hub.js"></script>
    <script src="~/Scripts/app/BingMap.js"></script>

    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="~/Scripts/classie.js"></script>
    <script src="~/Scripts/cbpAnimatedHeader.js"></script>

    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>

}
